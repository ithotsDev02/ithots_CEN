{"ast":null,"code":"(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport axiosInstance from \"../../config/axoisconfig\";\nimport Cookies from \"js-cookie\";\nimport actions from \"./actions\";\nimport errorNotification from \"../../components/notification/errorNotification\";\nimport successNotification from \"../../components/notification/successNotification\";\nconst {\n  loginBegin,\n  loginSuccess,\n  loginErr,\n  logoutBegin,\n  logoutSuccess,\n  logoutErr,\n  signupBegin,\n  signupSuccess,\n  signupErr\n} = actions;\n\nconst signup = (userinfo, endpoint) => {\n  return async dispatch => {\n    dispatch(signupBegin());\n    let url = \"https://api.esculae.com/api/v1/personal\" + endpoint;\n    axiosInstance.post(url, JSON.stringify(userinfo), {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(resp => {\n      setTimeout(() => {\n        dispatch(signupSuccess(resp.data));\n        successNotification(\"Please check you email inbox for next steps\"); // return dispatch(createCategorySuccess(resp.data));\n      }, 1000);\n    }).catch(err => {\n      errorNotification(\"Error in creating acccount, Please contact admin\");\n      dispatch(signupErr(err));\n    });\n  };\n};\n\nconst login = (user, type) => {\n  return async dispatch => {\n    var userRole;\n    let url;\n\n    if (type === \"sadmin56355\") {\n      url = \"https://api.esculae.com/api/v1/business/login\";\n    } else if (type === \"admin83606\") {\n      url = \"https://api.esculae.com/api/v1/personal/login\";\n    } else if (type === \"tutor\") {\n      url = \"https://api.esculae.com/api/v1/personal/faculty-login\";\n    } else if (type === \"student\") {\n      url = \"https://api.esculae.com/api/v1/personal/student-login\";\n    }\n\n    axiosInstance.post(url, user, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(resp => {\n      console.log(\"the response is\", resp);\n      dispatch(loginBegin());\n      setTimeout(() => {\n        localStorage.setItem(\"logedIn\", \"true\");\n\n        if (type == \"sadmin56355\") {\n          userRole = \"superadmin\";\n        } else if (type == \"admin83606\") {\n          userRole = \"admin\";\n        } else if (type == \"tutor\") {\n          userRole = \"tutor\";\n        } else {\n          userRole = \"student\";\n        }\n\n        localStorage.setItem(\"USR_ROLE\", userRole);\n        localStorage.setItem(\"currentUserInfo\", resp.data.userId || 0);\n        localStorage.setItem(\"userImage\", resp.data.image || \"\");\n        localStorage.setItem(\"token\", resp.data.accessToken);\n        localStorage.setItem(\"username\", resp.data.email);\n        localStorage.setItem(\"full_name\", resp.data.full_name || \"\");\n\n        if (type == \"sadmin56355\") {\n          window.location = \"/sadmin\";\n        } else if (type == \"admin83606\") {\n          window.location = \"/admin\";\n        } else if (type == \"tutor\") {\n          window.location = \"/tutor\";\n        } else {\n          window.location = \"/student\";\n        }\n\n        return dispatch(loginSuccess(true));\n      }, 1000);\n    }).catch(err => {\n      errorNotification(\"Error in login, Please contact admin or check your username / password\"); // dispatch(loginErr(err));\n    });\n  };\n};\n\nconst logOut = () => {\n  return async dispatch => {\n    try {\n      dispatch(logoutBegin());\n      Cookies.remove(\"logedIn\");\n      dispatch(logoutSuccess(null));\n      window.location = \"/\";\n      localStorage.clear();\n    } catch (err) {\n      dispatch(logoutErr(err));\n    }\n  };\n};\n\nexport { login, logOut, signup };\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(loginBegin, \"loginBegin\", \"/home/oem/Documents/React/strikingDash_Backup/ithotstechnology-striking-dash-dd179455c0fe/src/redux/authentication/actionCreator.js\");\n  reactHotLoader.register(loginSuccess, \"loginSuccess\", \"/home/oem/Documents/React/strikingDash_Backup/ithotstechnology-striking-dash-dd179455c0fe/src/redux/authentication/actionCreator.js\");\n  reactHotLoader.register(loginErr, \"loginErr\", \"/home/oem/Documents/React/strikingDash_Backup/ithotstechnology-striking-dash-dd179455c0fe/src/redux/authentication/actionCreator.js\");\n  reactHotLoader.register(logoutBegin, \"logoutBegin\", \"/home/oem/Documents/React/strikingDash_Backup/ithotstechnology-striking-dash-dd179455c0fe/src/redux/authentication/actionCreator.js\");\n  reactHotLoader.register(logoutSuccess, \"logoutSuccess\", \"/home/oem/Documents/React/strikingDash_Backup/ithotstechnology-striking-dash-dd179455c0fe/src/redux/authentication/actionCreator.js\");\n  reactHotLoader.register(logoutErr, \"logoutErr\", \"/home/oem/Documents/React/strikingDash_Backup/ithotstechnology-striking-dash-dd179455c0fe/src/redux/authentication/actionCreator.js\");\n  reactHotLoader.register(signupBegin, \"signupBegin\", \"/home/oem/Documents/React/strikingDash_Backup/ithotstechnology-striking-dash-dd179455c0fe/src/redux/authentication/actionCreator.js\");\n  reactHotLoader.register(signupSuccess, \"signupSuccess\", \"/home/oem/Documents/React/strikingDash_Backup/ithotstechnology-striking-dash-dd179455c0fe/src/redux/authentication/actionCreator.js\");\n  reactHotLoader.register(signupErr, \"signupErr\", \"/home/oem/Documents/React/strikingDash_Backup/ithotstechnology-striking-dash-dd179455c0fe/src/redux/authentication/actionCreator.js\");\n  reactHotLoader.register(signup, \"signup\", \"/home/oem/Documents/React/strikingDash_Backup/ithotstechnology-striking-dash-dd179455c0fe/src/redux/authentication/actionCreator.js\");\n  reactHotLoader.register(login, \"login\", \"/home/oem/Documents/React/strikingDash_Backup/ithotstechnology-striking-dash-dd179455c0fe/src/redux/authentication/actionCreator.js\");\n  reactHotLoader.register(logOut, \"logOut\", \"/home/oem/Documents/React/strikingDash_Backup/ithotstechnology-striking-dash-dd179455c0fe/src/redux/authentication/actionCreator.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/oem/Documents/React/strikingDash_Backup/ithotstechnology-striking-dash-dd179455c0fe/src/redux/authentication/actionCreator.js"],"names":["axiosInstance","Cookies","actions","errorNotification","successNotification","loginBegin","loginSuccess","loginErr","logoutBegin","logoutSuccess","logoutErr","signupBegin","signupSuccess","signupErr","signup","userinfo","endpoint","dispatch","url","post","JSON","stringify","headers","then","resp","setTimeout","data","catch","err","login","user","type","userRole","console","log","localStorage","setItem","userId","image","accessToken","email","full_name","window","location","logOut","remove","clear"],"mappings":"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","sourcesContent":["import axiosInstance from \"../../config/axoisconfig\";\nimport Cookies from \"js-cookie\";\nimport actions from \"./actions\";\n\nimport errorNotification from \"../../components/notification/errorNotification\";\nimport successNotification from \"../../components/notification/successNotification\";\nconst {\n  loginBegin,\n  loginSuccess,\n  loginErr,\n  logoutBegin,\n  logoutSuccess,\n  logoutErr,\n  signupBegin,\n  signupSuccess,\n  signupErr,\n} = actions;\n\nconst signup = (userinfo, endpoint) => {\n  return async (dispatch) => {\n    dispatch(signupBegin());\n\n    let url = \"https://api.esculae.com/api/v1/personal\" + endpoint;\n    axiosInstance\n      .post(url, JSON.stringify(userinfo), {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      })\n      .then((resp) => {\n        setTimeout(() => {\n          dispatch(signupSuccess(resp.data));\n          successNotification(\"Please check you email inbox for next steps\");\n          // return dispatch(createCategorySuccess(resp.data));\n        }, 1000);\n      })\n\n      .catch((err) => {\n        errorNotification(\"Error in creating acccount, Please contact admin\");\n        dispatch(signupErr(err));\n      });\n  };\n};\nconst login = (user, type) => {\n  return async (dispatch) => {\n    var userRole;\n    let url;\n    if (type === \"sadmin56355\") {\n      url = \"https://api.esculae.com/api/v1/business/login\";\n    } else if (type === \"admin83606\") {\n      url = \"https://api.esculae.com/api/v1/personal/login\";\n    } else if (type === \"tutor\") {\n      url = \"https://api.esculae.com/api/v1/personal/faculty-login\";\n    } else if (type === \"student\") {\n      url = \"https://api.esculae.com/api/v1/personal/student-login\";\n    }\n\n    axiosInstance\n      .post(url, user, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      })\n      .then((resp) => {\n        console.log(\"the response is\", resp);\n        dispatch(loginBegin());\n        setTimeout(() => {\n          localStorage.setItem(\"logedIn\", \"true\");\n          if (type == \"sadmin56355\") {\n            userRole = \"superadmin\";\n          } else if (type == \"admin83606\") {\n            userRole = \"admin\";\n          } else if (type == \"tutor\") {\n            userRole = \"tutor\";\n          } else {\n            userRole = \"student\";\n          }\n\n          localStorage.setItem(\"USR_ROLE\", userRole);\n          localStorage.setItem(\"currentUserInfo\", resp.data.userId || 0);\n          localStorage.setItem(\"userImage\", resp.data.image || \"\");\n          localStorage.setItem(\"token\", resp.data.accessToken);\n          localStorage.setItem(\"username\", resp.data.email);\n          localStorage.setItem(\"full_name\", resp.data.full_name || \"\");\n          if (type == \"sadmin56355\") {\n            window.location = \"/sadmin\";\n          } else if (type == \"admin83606\") {\n            window.location = \"/admin\";\n          } else if (type == \"tutor\") {\n            window.location = \"/tutor\";\n          } else {\n            window.location = \"/student\";\n          }\n          return dispatch(loginSuccess(true));\n        }, 1000);\n      })\n      .catch((err) => {\n        errorNotification(\n          \"Error in login, Please contact admin or check your username / password\"\n        );\n        // dispatch(loginErr(err));\n      });\n  };\n};\n\nconst logOut = () => {\n  return async (dispatch) => {\n    try {\n      dispatch(logoutBegin());\n      Cookies.remove(\"logedIn\");\n      dispatch(logoutSuccess(null));\n      window.location = \"/\";\n      localStorage.clear();\n    } catch (err) {\n      dispatch(logoutErr(err));\n    }\n  };\n};\n\nexport { login, logOut, signup };\n"]},"metadata":{},"sourceType":"module"}