{"ast":null,"code":"import \"antd/es/skeleton/style\";\nimport _Skeleton from \"antd/es/skeleton\";\nimport \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nimport \"antd/es/spin/style\";\nimport _Spin from \"antd/es/spin\";\nvar _jsxFileName = \"/home/oem/Downloads/mydownloads/new_strikingDash/ithotstechnology-striking-dash-dd179455c0fe/src/container/ecommerce/Cart.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { lazy, Suspense, useState, useEffect } from \"react\";\nimport FeatherIcon from \"feather-icons-react\";\nimport { Switch, Route, useRouteMatch } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { PageHeader } from \"../../components/page-headers/page-headers\";\nimport { Main } from \"../styled\";\nimport { Cards } from \"../../components/cards/frame/cards-frame\";\nimport { Button } from \"../../components/buttons/buttons\";\nimport { ShareButtonPageHeader } from \"../../components/buttons/share-button/share-button\";\nimport { ExportButtonPageHeader } from \"../../components/buttons/export-button/export-button\";\nimport { CalendarButtonPageHeader } from \"../../components/buttons/calendar-button/calendar-button\";\nimport { createTransaction } from \"../../redux/course/actionCreator\";\nimport { emptyCart } from \"../../redux/cart/actionCreator\";\nconst PaymentSuccess = lazy(() => import(\"./overview/PaymentSuccess\"));\nimport errorNotification from \"../../components/notification/errorNotification\";\nimport axiosInstance from \"../../config/axoisconfig\"; // import { cartGetData } from '../../redux/cart/actionCreator';\n\nimport moment from \"moment\"; // const Checkout = lazy(() => import(\"./overview/CheckOut\"));\n\nconst CartTable = lazy(() => import(\"./overview/CartTable\"));\nconst Ordersummary = lazy(() => import(\"./overview/Ordersummary\"));\n\nconst ShoppingCart = () => {\n  const dispatch = useDispatch();\n  const {\n    rtl,\n    isLoggedIn,\n    topMenu,\n    darkMode\n  } = useSelector(state => {\n    return {\n      darkMode: state.ChangeLayoutMode.data,\n      rtl: state.ChangeLayoutMode.rtlData,\n      topMenu: state.ChangeLayoutMode.topMenu,\n      isLoggedIn: state.auth.login\n    };\n  });\n  const cartData = useSelector(state => state.cart.data);\n  const isLoading = useSelector(state => state.course.loading);\n  const studentId = localStorage.getItem(\"currentUserInfo\") || 0;\n  const [totalcost, settotalcost] = useState(0);\n  const [gst, setgst] = useState(0);\n  const [platformcharges, setplatformcharges] = useState(0);\n  const [subtotal, setsubtotal] = useState(0);\n  const urlParams = new URLSearchParams(window.location.search);\n  const paymentdone = urlParams.get(\"payment\") || false;\n  const txnid = urlParams.get(\"transactionId\") || \"\";\n  const price = urlParams.get(\"price\") || \"\";\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [cardno, setcardno] = useState(false);\n  const [expiry, setexpiry] = useState(false);\n  const [cvv, setcvv] = useState(false);\n  const [name, setname] = useState(false);\n  const [canCheckout, setcanCheckout] = useState(true);\n  const [errmsg, setErrmsg] = useState(\"\");\n  const [enrolledCourses, setEnrolledCourses] = useState([]);\n  const [locLoading, setLocLoading] = useState(false);\n  useEffect(() => {\n    setLocLoading(true);\n    var coursesURL = \"https://api.esculae.com/api/v1/personal/student-enroll-course\";\n    axiosInstance.get(coursesURL, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(resp => {\n      var _resp$data;\n\n      setEnrolledCourses(resp);\n      resp === null || resp === void 0 ? void 0 : (_resp$data = resp.data) === null || _resp$data === void 0 ? void 0 : _resp$data.data.map(course => {\n        cartData.map((data, id) => {\n          if (course.CourseId === data.courseInfo.id) {\n            setErrmsg(`Course Name - ${data.courseInfo.title} is already purchased, and can not be purchased again.`);\n            setcanCheckout(false);\n            setLocLoading(false);\n            return;\n          }\n        });\n      });\n      setLocLoading(false); // console.log(\"the response is\", resp);\n    }).catch(err => {\n      setLocLoading(false);\n      console.log(err);\n    });\n  }, [cartData]); // handleok,\n  // handlecancel,\n\n  const saveTxnDetails = event => {\n    cartData.map(course => {\n      let data = {\n        student_id: studentId,\n        course_name: course.courseInfo.title,\n        student_name: localStorage.getItem(\"full_name\"),\n        transaction_date: moment(),\n        amount: parseInt(totalcost),\n        transaction_number: event.response.orderId,\n        gst: parseInt(gst),\n        platform_charges: parseInt(platformcharges),\n        course_id: course.courseInfo.id,\n        //batch and course related info\n        title: course.courseInfo.title,\n        category: course.courseInfo.category,\n        sub_category: course.courseInfo.sub_category,\n        course_level: course.courseInfo.course_level,\n        duration: course.batch.total_duration,\n        language: course.courseInfo.language,\n        region_id: 1,\n        faculty_id: course.courseInfo.created_by.id,\n        faculty_name: course.courseInfo.created_by.full_name,\n        name: course.batch.title,\n        batch_type: course.batch.type,\n        enroll_last_date: moment(),\n        price: course.selectedBatchPrice,\n        start_date: moment(course.batch.start_date, \"DD MMM YYYY\").format(\"MM/DD/YYYY\"),\n        end_date: moment(course.batch.end_date, \"DD MMM YYYY\").format(\"MM/DD/YYYY\"),\n        enrollType: course.enrollType,\n        sub_title: \"\",\n        batch_day: [0, 3],\n        batch_id: course.batch.id,\n        start_time: moment(course.batch.start_time, \"hh:mm A\").format(\"HH:MM\"),\n        end_time: moment(course.batch.end_time, \"hh:mm A\").format(\"HH:MM\")\n      };\n      dispatch(createTransaction(course.courseInfo.id || 0, data, course.batch.id, course.enrollType, course.courseInfo.created_by.id));\n    });\n  };\n\n  const handleCfResponse = event => {\n    if (event.name == \"PAYMENT_RESPONSE\" && event.response.txStatus == \"SUCCESS\") {\n      saveTxnDetails(event);\n    } else if (event.name == \"PAYMENT_RESPONSE\" && event.response.txStatus == \"CANCELLED\") {} else if (event.name == \"PAYMENT_RESPONSE\" && event.response.txStatus == \"FAILED\") {} else if (event.name == \"VALIDATION_ERROR\") {}\n  };\n\n  useEffect(() => {\n    const config = {};\n    config.layout = {};\n    config.checkout = \"transparent\";\n    config.mode = \"TEST\";\n    let response = CashFree.init(config);\n\n    if (response.status !== \"OK\") {\n      alert(\"Please try again in some time !!\");\n    }\n  }, []);\n\n  var pc = () => {\n    let data = {};\n    data.paymentOption = \"card\";\n    data.card = {};\n    data.card.number = \"4444333322221111\";\n    data.card.expiryMonth = \"07\";\n    data.card.expiryYear = \"23\";\n    data.card.cvv = \"123\";\n    CashFree.paySeamless(data, postPaymentCallback());\n    return false;\n  };\n\n  const postPaymentCallback = event => {\n    console.log(event); // if (event.name == \"PAYMENT_RESPONSE\" && event.status == \"SUCCESS\") {\n    // } else if (\n    //   event.name == \"PAYMENT_RESPONSE\" &&\n    //   event.status == \"CANCELLED\"\n    // ) {\n    // } else if (event.name == \"PAYMENT_RESPONSE\" && event.status == \"FAILED\") {\n    // } else if (event.name == \"VALIDATION_ERROR\") {\n    // }\n  };\n\n  const payCard = () => {\n    CashFree.initPopup(); // This is required for the popup to work even in case of callback.\n\n    axiosInstance.get(\"https://reqres.in/api/users?page=2\") // This is an open endpoint.\n    .then(response => {\n      console.log(response);\n      pc();\n    });\n  };\n\n  const payBank = data => {\n    CashFree.initPopup();\n    data.paymentOption = \"nb\";\n    data.nb = {};\n    data.nb.code = \"3002\";\n    CashFree.paySeamless(data, postPaymentCallback);\n    return false;\n  };\n\n  const payWallet = data => {\n    data.paymentOption = \"wallet\";\n    data.wallet = {};\n    data.wallet.code = 4001;\n    CashFree.paySeamless(data, postPaymentCallback);\n    return false;\n  };\n\n  const payUpi = data => {\n    data.paymentOption = \"upi\";\n    data.upi = {};\n    data.upi.vpa = 3244;\n    CashFree.paySeamless(data, postPaymentCallback);\n    return false;\n  };\n\n  const checkout = () => {\n    if (canCheckout === true) {\n      if (isLoggedIn) {\n        setIsModalVisible(true);\n      } else {\n        errorNotification(\"Please login to purchase this course\");\n      }\n    } else {\n      errorNotification(errmsg);\n    }\n  };\n\n  const checkifEnrolled = courseId => {\n    console.log(\"sham\", enrolledCourses);\n    enrolledCourses.map(course => {\n      console.log(\"the id sent are\", course.CourseId, \"asdasd\", courseId);\n\n      if (course.CourseId === courseId) {\n        return true;\n      }\n    });\n    return false;\n  };\n\n  const handlePayment = () => {\n    //cashfree integration\n    let randTxnID = Math.floor(100000 + Math.random() * 900000);\n    const coursesURL = \"https://api.esculae.com/api/v1/course/calculateSecretKey\";\n    axiosInstance.post(coursesURL, JSON.stringify({\n      formObj: {\n        orderId: randTxnID,\n        orderAmount: totalcost,\n        customerName: localStorage.getItem(\"full_name\") || \"admin\",\n        customerEmail: localStorage.getItem(\"username\") || \"lokeshkumar824@gmail.com\",\n        customerPhone: \"1234512345\"\n      },\n      paymentType: \"SEAMLESSBASIC\"\n    }), {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(resp => {\n      console.log(\"Payment response\", resp.data.additionalFields.paymentToken);\n      let dummyData = {\n        appId: \"617218098bb2206b248bc53b412716\",\n        card: {\n          number: cardno || \"4444333322221111\",\n          // number: \"4444333322221111\",\n          holder: localStorage.getItem(\"full_name\") || \"admin\",\n          cvv: cvv || \"123\",\n          expiryMonth: moment(expiry).format(\"MM\") || \"04\",\n          expiryYear: moment(expiry).format(\"YYYY\") || \"2023\"\n        },\n        customerEmail: localStorage.getItem(\"username\") || \"lokeshkumar824@gmail.com\",\n        customerName: localStorage.getItem(\"full_name\") || \"admin\",\n        customerPhone: \"1234512345\",\n        notifyUrl: \"\",\n        orderAmount: totalcost,\n        orderCurrency: \"INR\",\n        orderId: randTxnID,\n        paymentOption: \"card\",\n        paymentToken: resp.data.additionalFields.paymentToken\n      };\n      setIsModalVisible(false);\n      CashFree.initPopup();\n      CashFree.paySeamless(dummyData, data => {\n        handleCfResponse(data);\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const handlePaymentcancel = () => {\n    setIsModalVisible(false);\n  };\n\n  const {\n    path,\n    isExact\n  } = useRouteMatch();\n  const [state, setState] = useState({\n    coupon: 0,\n    promo: 0,\n    current: 0\n  });\n  useEffect(() => {\n    let subtotal = 0;\n    let gst = 0;\n    let platformcharges = 0;\n    let total = 0;\n    cartData.map(item => {\n      subtotal = subtotal + (item.selectedBatchPrice - 2 / item.selectedBatchPrice * 100 - 18 / item.selectedBatchPrice * 100);\n      gst = gst + 18 / item.selectedBatchPrice * 100;\n      platformcharges = platformcharges + 2 / item.selectedBatchPrice * 100;\n      total = total + item.selectedBatchPrice;\n    });\n    settotalcost(total);\n    setgst(gst);\n    setplatformcharges(platformcharges);\n    setsubtotal(subtotal);\n  }, [cartData]); // useEffect(() => {\n  //   if (cartGetData) {\n  //     dispatch(cartGetData());\n  //   }\n  // }, [dispatch]);\n  // let subtotal = 0;\n  // if (cartData !== null) {\n  //   cartData.map((data) => {\n  //     const { quantity, price } = data;\n  //     subtotal += parseInt(quantity, 10) * parseInt(price, 10);\n  //     return subtotal;\n  //   });\n  // }\n\n  const onHandleCurrent = current => {\n    setState({ ...state,\n      current\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 5\n    }\n  }, isLoading ? /*#__PURE__*/React.createElement(_Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Col, {\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(_Spin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 15\n    }\n  })))) : !paymentdone && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"-4%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(PageHeader, {\n    ghost: true,\n    title: \"Your cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Main, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: isExact ? \"cartWraper\" : \"checkoutWraper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(_Row, {\n    gutter: 15,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(_Col, {\n    md: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Cards, {\n    headless: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(_Row, {\n    gutter: 30,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(_Col, {\n    xxl: 17,\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(Cards, {\n      headless: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(_Skeleton, {\n      paragraph: {\n        rows: 10\n      },\n      active: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 35\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: path,\n    component: () => /*#__PURE__*/React.createElement(CartTable, {\n      cartData: cartData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 35\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 31\n    }\n  })))), /*#__PURE__*/React.createElement(_Col, {\n    xxl: 7,\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(Cards, {\n      headless: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(_Skeleton, {\n      paragraph: {\n        rows: 10\n      },\n      active: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 33\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 27\n    }\n  }, locLoading ? /*#__PURE__*/React.createElement(Cards, {\n    headless: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(_Skeleton, {\n    paragraph: {\n      rows: 10\n    },\n    active: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 33\n    }\n  })) : /*#__PURE__*/React.createElement(Ordersummary, {\n    totalcost: totalcost,\n    canCheckout: canCheckout,\n    errmsg: errmsg,\n    gst: gst,\n    subtotal: subtotal,\n    platformcharges: platformcharges,\n    checkout: checkout,\n    isModalVisible: isModalVisible,\n    setcardno: setcardno,\n    setexpiry: setexpiry,\n    setcvv: setcvv,\n    setname: setname,\n    handleok: handlePayment,\n    handlecancel: handlePaymentcancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 31\n    }\n  })))))))))), paymentdone == \"success\" ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"-4%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Main, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(_Row, {\n    gutter: 15,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(_Col, {\n    md: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Cards, {\n    headless: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(_Row, {\n    gutter: 30,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(_Col, {\n    xxl: 17,\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(PaymentSuccess, {\n    transactionId: txnid,\n    price: price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 23\n    }\n  })))))))) : null);\n};\n\n__signature__(ShoppingCart, \"useDispatch{dispatch}\\nuseSelector{{ rtl, isLoggedIn, topMenu, darkMode }}\\nuseSelector{cartData}\\nuseSelector{isLoading}\\nuseState{[totalcost, settotalcost](0)}\\nuseState{[gst, setgst](0)}\\nuseState{[platformcharges, setplatformcharges](0)}\\nuseState{[subtotal, setsubtotal](0)}\\nuseState{[isModalVisible, setIsModalVisible](false)}\\nuseState{[cardno, setcardno](false)}\\nuseState{[expiry, setexpiry](false)}\\nuseState{[cvv, setcvv](false)}\\nuseState{[name, setname](false)}\\nuseState{[canCheckout, setcanCheckout](true)}\\nuseState{[errmsg, setErrmsg](\\\"\\\")}\\nuseState{[enrolledCourses, setEnrolledCourses]([])}\\nuseState{[locLoading, setLocLoading](false)}\\nuseEffect{}\\nuseEffect{}\\nuseRouteMatch{{ path, isExact }}\\nuseState{[state, setState]({\\n    coupon: 0,\\n    promo: 0,\\n    current: 0,\\n  })}\\nuseEffect{}\", () => [useDispatch, useSelector, useSelector, useSelector, useRouteMatch]);\n\nconst _default = ShoppingCart;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(PaymentSuccess, \"PaymentSuccess\", \"/home/oem/Downloads/mydownloads/new_strikingDash/ithotstechnology-striking-dash-dd179455c0fe/src/container/ecommerce/Cart.js\");\n  reactHotLoader.register(CartTable, \"CartTable\", \"/home/oem/Downloads/mydownloads/new_strikingDash/ithotstechnology-striking-dash-dd179455c0fe/src/container/ecommerce/Cart.js\");\n  reactHotLoader.register(Ordersummary, \"Ordersummary\", \"/home/oem/Downloads/mydownloads/new_strikingDash/ithotstechnology-striking-dash-dd179455c0fe/src/container/ecommerce/Cart.js\");\n  reactHotLoader.register(ShoppingCart, \"ShoppingCart\", \"/home/oem/Downloads/mydownloads/new_strikingDash/ithotstechnology-striking-dash-dd179455c0fe/src/container/ecommerce/Cart.js\");\n  reactHotLoader.register(_default, \"default\", \"/home/oem/Downloads/mydownloads/new_strikingDash/ithotstechnology-striking-dash-dd179455c0fe/src/container/ecommerce/Cart.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/oem/Downloads/mydownloads/new_strikingDash/ithotstechnology-striking-dash-dd179455c0fe/src/container/ecommerce/Cart.js"],"names":["React","lazy","Suspense","useState","useEffect","FeatherIcon","Switch","Route","useRouteMatch","useDispatch","useSelector","PageHeader","Main","Cards","Button","ShareButtonPageHeader","ExportButtonPageHeader","CalendarButtonPageHeader","createTransaction","emptyCart","PaymentSuccess","errorNotification","axiosInstance","moment","CartTable","Ordersummary","ShoppingCart","dispatch","rtl","isLoggedIn","topMenu","darkMode","state","ChangeLayoutMode","data","rtlData","auth","login","cartData","cart","isLoading","course","loading","studentId","localStorage","getItem","totalcost","settotalcost","gst","setgst","platformcharges","setplatformcharges","subtotal","setsubtotal","urlParams","URLSearchParams","window","location","search","paymentdone","get","txnid","price","isModalVisible","setIsModalVisible","cardno","setcardno","expiry","setexpiry","cvv","setcvv","name","setname","canCheckout","setcanCheckout","errmsg","setErrmsg","enrolledCourses","setEnrolledCourses","locLoading","setLocLoading","coursesURL","headers","then","resp","map","id","CourseId","courseInfo","title","catch","err","console","log","saveTxnDetails","event","student_id","course_name","student_name","transaction_date","amount","parseInt","transaction_number","response","orderId","platform_charges","course_id","category","sub_category","course_level","duration","batch","total_duration","language","region_id","faculty_id","created_by","faculty_name","full_name","batch_type","type","enroll_last_date","selectedBatchPrice","start_date","format","end_date","enrollType","sub_title","batch_day","batch_id","start_time","end_time","handleCfResponse","txStatus","config","layout","checkout","mode","CashFree","init","status","alert","pc","paymentOption","card","number","expiryMonth","expiryYear","paySeamless","postPaymentCallback","payCard","initPopup","payBank","nb","code","payWallet","wallet","payUpi","upi","vpa","checkifEnrolled","courseId","handlePayment","randTxnID","Math","floor","random","post","JSON","stringify","formObj","orderAmount","customerName","customerEmail","customerPhone","paymentType","additionalFields","paymentToken","dummyData","appId","holder","notifyUrl","orderCurrency","handlePaymentcancel","path","isExact","setState","coupon","promo","current","total","item","onHandleCurrent","marginTop","rows"],"mappings":"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","sourcesContent":["import React, { lazy, Suspense, useState, useEffect } from \"react\";\nimport { Row, Col, Skeleton, Spin } from \"antd\";\nimport FeatherIcon from \"feather-icons-react\";\nimport { Switch, Route, useRouteMatch } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { PageHeader } from \"../../components/page-headers/page-headers\";\nimport { Main } from \"../styled\";\nimport { Cards } from \"../../components/cards/frame/cards-frame\";\nimport { Button } from \"../../components/buttons/buttons\";\nimport { ShareButtonPageHeader } from \"../../components/buttons/share-button/share-button\";\nimport { ExportButtonPageHeader } from \"../../components/buttons/export-button/export-button\";\nimport { CalendarButtonPageHeader } from \"../../components/buttons/calendar-button/calendar-button\";\nimport { createTransaction } from \"../../redux/course/actionCreator\";\nimport { emptyCart } from \"../../redux/cart/actionCreator\";\nconst PaymentSuccess = lazy(() => import(\"./overview/PaymentSuccess\"));\nimport errorNotification from \"../../components/notification/errorNotification\";\nimport axiosInstance from \"../../config/axoisconfig\";\n\n// import { cartGetData } from '../../redux/cart/actionCreator';\nimport moment from \"moment\";\n\n// const Checkout = lazy(() => import(\"./overview/CheckOut\"));\nconst CartTable = lazy(() => import(\"./overview/CartTable\"));\nconst Ordersummary = lazy(() => import(\"./overview/Ordersummary\"));\n\nconst ShoppingCart = () => {\n  const dispatch = useDispatch();\n  const { rtl, isLoggedIn, topMenu, darkMode } = useSelector((state) => {\n    return {\n      darkMode: state.ChangeLayoutMode.data,\n      rtl: state.ChangeLayoutMode.rtlData,\n      topMenu: state.ChangeLayoutMode.topMenu,\n      isLoggedIn: state.auth.login,\n    };\n  });\n  const cartData = useSelector((state) => state.cart.data);\n  const isLoading = useSelector((state) => state.course.loading);\n  const studentId = localStorage.getItem(\"currentUserInfo\") || 0;\n  const [totalcost, settotalcost] = useState(0);\n  const [gst, setgst] = useState(0);\n  const [platformcharges, setplatformcharges] = useState(0);\n  const [subtotal, setsubtotal] = useState(0);\n  const urlParams = new URLSearchParams(window.location.search);\n  const paymentdone = urlParams.get(\"payment\") || false;\n  const txnid = urlParams.get(\"transactionId\") || \"\";\n  const price = urlParams.get(\"price\") || \"\";\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [cardno, setcardno] = useState(false);\n  const [expiry, setexpiry] = useState(false);\n  const [cvv, setcvv] = useState(false);\n  const [name, setname] = useState(false);\n  const [canCheckout, setcanCheckout] = useState(true);\n  const [errmsg, setErrmsg] = useState(\"\");\n  const [enrolledCourses, setEnrolledCourses] = useState([]);\n  const [locLoading, setLocLoading] = useState(false);\n  useEffect(() => {\n    setLocLoading(true);\n    var coursesURL =\n      \"https://api.esculae.com/api/v1/personal/student-enroll-course\";\n    axiosInstance\n      .get(coursesURL, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      })\n      .then((resp) => {\n        setEnrolledCourses(resp);\n        resp?.data?.data.map((course) => {\n          cartData.map((data, id) => {\n            if (course.CourseId === data.courseInfo.id) {\n              setErrmsg(\n                `Course Name - ${data.courseInfo.title} is already purchased, and can not be purchased again.`\n              );\n              setcanCheckout(false);\n              setLocLoading(false);\n\n              return;\n            }\n          });\n        });\n        setLocLoading(false);\n\n        // console.log(\"the response is\", resp);\n      })\n      .catch((err) => {\n        setLocLoading(false);\n\n        console.log(err);\n      });\n  }, [cartData]);\n\n  // handleok,\n  // handlecancel,\n  const saveTxnDetails = (event) => {\n    cartData.map((course) => {\n      let data = {\n        student_id: studentId,\n        course_name: course.courseInfo.title,\n        student_name: localStorage.getItem(\"full_name\"),\n        transaction_date: moment(),\n        amount: parseInt(totalcost),\n        transaction_number: event.response.orderId,\n        gst: parseInt(gst),\n        platform_charges: parseInt(platformcharges),\n        course_id: course.courseInfo.id,\n        //batch and course related info\n        title: course.courseInfo.title,\n        category: course.courseInfo.category,\n        sub_category: course.courseInfo.sub_category,\n        course_level: course.courseInfo.course_level,\n        duration: course.batch.total_duration,\n        language: course.courseInfo.language,\n        region_id: 1,\n        faculty_id: course.courseInfo.created_by.id,\n        faculty_name: course.courseInfo.created_by.full_name,\n        name: course.batch.title,\n        batch_type: course.batch.type,\n        enroll_last_date: moment(),\n        price: course.selectedBatchPrice,\n        start_date: moment(course.batch.start_date, \"DD MMM YYYY\").format(\n          \"MM/DD/YYYY\"\n        ),\n        end_date: moment(course.batch.end_date, \"DD MMM YYYY\").format(\n          \"MM/DD/YYYY\"\n        ),\n        enrollType: course.enrollType,\n        sub_title: \"\",\n        batch_day: [0, 3],\n        batch_id: course.batch.id,\n        start_time: moment(course.batch.start_time, \"hh:mm A\").format(\"HH:MM\"),\n        end_time: moment(course.batch.end_time, \"hh:mm A\").format(\"HH:MM\"),\n      };\n      dispatch(\n        createTransaction(\n          course.courseInfo.id || 0,\n          data,\n          course.batch.id,\n          course.enrollType,\n          course.courseInfo.created_by.id\n        )\n      );\n    });\n  };\n  const handleCfResponse = (event) => {\n    if (\n      event.name == \"PAYMENT_RESPONSE\" &&\n      event.response.txStatus == \"SUCCESS\"\n    ) {\n      saveTxnDetails(event);\n    } else if (\n      event.name == \"PAYMENT_RESPONSE\" &&\n      event.response.txStatus == \"CANCELLED\"\n    ) {\n    } else if (\n      event.name == \"PAYMENT_RESPONSE\" &&\n      event.response.txStatus == \"FAILED\"\n    ) {\n    } else if (event.name == \"VALIDATION_ERROR\") {\n    }\n  };\n  useEffect(() => {\n    const config = {};\n    config.layout = {};\n    config.checkout = \"transparent\";\n    config.mode = \"TEST\";\n    let response = CashFree.init(config);\n    if (response.status !== \"OK\") {\n      alert(\"Please try again in some time !!\");\n    }\n  }, []);\n\n  var pc = () => {\n    let data = {};\n    data.paymentOption = \"card\";\n    data.card = {};\n    data.card.number = \"4444333322221111\";\n    data.card.expiryMonth = \"07\";\n    data.card.expiryYear = \"23\";\n    data.card.cvv = \"123\";\n    CashFree.paySeamless(data, postPaymentCallback());\n    return false;\n  };\n  const postPaymentCallback = (event) => {\n    console.log(event);\n    // if (event.name == \"PAYMENT_RESPONSE\" && event.status == \"SUCCESS\") {\n    // } else if (\n    //   event.name == \"PAYMENT_RESPONSE\" &&\n    //   event.status == \"CANCELLED\"\n    // ) {\n    // } else if (event.name == \"PAYMENT_RESPONSE\" && event.status == \"FAILED\") {\n    // } else if (event.name == \"VALIDATION_ERROR\") {\n    // }\n  };\n\n  const payCard = () => {\n    CashFree.initPopup(); // This is required for the popup to work even in case of callback.\n    axiosInstance\n      .get(\"https://reqres.in/api/users?page=2\") // This is an open endpoint.\n      .then((response) => {\n        console.log(response);\n        pc();\n      });\n  };\n  const payBank = (data) => {\n    CashFree.initPopup();\n    data.paymentOption = \"nb\";\n    data.nb = {};\n    data.nb.code = \"3002\";\n\n    CashFree.paySeamless(data, postPaymentCallback);\n    return false;\n  };\n  const payWallet = (data) => {\n    data.paymentOption = \"wallet\";\n    data.wallet = {};\n    data.wallet.code = 4001;\n\n    CashFree.paySeamless(data, postPaymentCallback);\n    return false;\n  };\n  const payUpi = (data) => {\n    data.paymentOption = \"upi\";\n    data.upi = {};\n    data.upi.vpa = 3244;\n\n    CashFree.paySeamless(data, postPaymentCallback);\n    return false;\n  };\n  const checkout = () => {\n    if (canCheckout === true) {\n      if (isLoggedIn) {\n        setIsModalVisible(true);\n      } else {\n        errorNotification(\"Please login to purchase this course\");\n      }\n    } else {\n      errorNotification(errmsg);\n    }\n  };\n  const checkifEnrolled = (courseId) => {\n    console.log(\"sham\", enrolledCourses);\n    enrolledCourses.map((course) => {\n      console.log(\"the id sent are\", course.CourseId, \"asdasd\", courseId);\n      if (course.CourseId === courseId) {\n        return true;\n      }\n    });\n    return false;\n  };\n  const handlePayment = () => {\n    //cashfree integration\n    let randTxnID = Math.floor(100000 + Math.random() * 900000);\n    const coursesURL =\n      \"https://api.esculae.com/api/v1/course/calculateSecretKey\";\n    axiosInstance\n      .post(\n        coursesURL,\n        JSON.stringify({\n          formObj: {\n            orderId: randTxnID,\n            orderAmount: totalcost,\n            customerName: localStorage.getItem(\"full_name\") || \"admin\",\n            customerEmail:\n              localStorage.getItem(\"username\") || \"lokeshkumar824@gmail.com\",\n            customerPhone: \"1234512345\",\n          },\n          paymentType: \"SEAMLESSBASIC\",\n        }),\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      )\n      .then((resp) => {\n        console.log(\n          \"Payment response\",\n          resp.data.additionalFields.paymentToken\n        );\n        let dummyData = {\n          appId: \"617218098bb2206b248bc53b412716\",\n          card: {\n            number: cardno || \"4444333322221111\",\n\n            // number: \"4444333322221111\",\n            holder: localStorage.getItem(\"full_name\") || \"admin\",\n            cvv: cvv || \"123\",\n            expiryMonth: moment(expiry).format(\"MM\") || \"04\",\n            expiryYear: moment(expiry).format(\"YYYY\") || \"2023\",\n          },\n          customerEmail:\n            localStorage.getItem(\"username\") || \"lokeshkumar824@gmail.com\",\n          customerName: localStorage.getItem(\"full_name\") || \"admin\",\n          customerPhone: \"1234512345\",\n          notifyUrl: \"\",\n          orderAmount: totalcost,\n          orderCurrency: \"INR\",\n          orderId: randTxnID,\n          paymentOption: \"card\",\n          paymentToken: resp.data.additionalFields.paymentToken,\n        };\n        setIsModalVisible(false);\n\n        CashFree.initPopup();\n        CashFree.paySeamless(dummyData, (data) => {\n          handleCfResponse(data);\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  const handlePaymentcancel = () => {\n    setIsModalVisible(false);\n  };\n  const { path, isExact } = useRouteMatch();\n  const [state, setState] = useState({\n    coupon: 0,\n    promo: 0,\n    current: 0,\n  });\n  useEffect(() => {\n    let subtotal = 0;\n    let gst = 0;\n    let platformcharges = 0;\n    let total = 0;\n    cartData.map((item) => {\n      subtotal =\n        subtotal +\n        (item.selectedBatchPrice -\n          (2 / item.selectedBatchPrice) * 100 -\n          (18 / item.selectedBatchPrice) * 100);\n      gst = gst + (18 / item.selectedBatchPrice) * 100;\n      platformcharges = platformcharges + (2 / item.selectedBatchPrice) * 100;\n      total = total + item.selectedBatchPrice;\n    });\n    settotalcost(total);\n    setgst(gst);\n    setplatformcharges(platformcharges);\n    setsubtotal(subtotal);\n  }, [cartData]);\n  // useEffect(() => {\n  //   if (cartGetData) {\n  //     dispatch(cartGetData());\n  //   }\n  // }, [dispatch]);\n\n  // let subtotal = 0;\n\n  // if (cartData !== null) {\n  //   cartData.map((data) => {\n  //     const { quantity, price } = data;\n  //     subtotal += parseInt(quantity, 10) * parseInt(price, 10);\n  //     return subtotal;\n  //   });\n  // }\n\n  const onHandleCurrent = (current) => {\n    setState({\n      ...state,\n      current,\n    });\n  };\n\n  return (\n    <React.Fragment>\n      {isLoading ? (\n        <Row>\n          <Col xs={24}>\n            <div className=\"spin\">\n              <Spin />\n            </div>\n          </Col>\n        </Row>\n      ) : (\n        !paymentdone && (\n          <div style={{ marginTop: \"-4%\" }}>\n            <PageHeader\n              ghost\n              title=\"Your cart\"\n          \n            />\n            <Main>\n              <div className={isExact ? \"cartWraper\" : \"checkoutWraper\"}>\n                <Row gutter={15}>\n                  <Col md={24}>\n                    <Cards headless>\n                      <Row gutter={30}>\n                        <Col xxl={17} xs={24}>\n                          <Switch>\n                            <Suspense\n                              fallback={\n                                <Cards headless>\n                                  <Skeleton paragraph={{ rows: 10 }} active />\n                                </Cards>\n                              }\n                            >\n                              {/* <Route\n                          path={`${path}/checkout`}\n                          render={() => (\n                            <Checkout onCurrentChange={onHandleCurrent} />\n                          )}\n                        /> */}\n                              <Route\n                                exact\n                                path={path}\n                                component={() => (\n                                  <CartTable cartData={cartData} />\n                                )}\n                              />\n                            </Suspense>\n                          </Switch>\n                        </Col>\n                        <Col xxl={7} xs={24}>\n                          <Suspense\n                            fallback={\n                              <Cards headless>\n                                <Skeleton paragraph={{ rows: 10 }} active />\n                              </Cards>\n                            }\n                          >\n                            {locLoading ? (\n                              <Cards headless>\n                                <Skeleton paragraph={{ rows: 10 }} active />\n                              </Cards>\n                            ) : (\n                              <Ordersummary\n                                totalcost={totalcost}\n                                canCheckout={canCheckout}\n                                errmsg={errmsg}\n                                gst={gst}\n                                subtotal={subtotal}\n                                platformcharges={platformcharges}\n                                checkout={checkout}\n                                isModalVisible={isModalVisible}\n                                setcardno={setcardno}\n                                setexpiry={setexpiry}\n                                setcvv={setcvv}\n                                setname={setname}\n                                handleok={handlePayment}\n                                handlecancel={handlePaymentcancel}\n                              />\n                            )}\n                          </Suspense>\n                        </Col>\n                      </Row>\n                    </Cards>\n                  </Col>\n                </Row>\n              </div>\n            </Main>\n          </div>\n        )\n      )}\n      {paymentdone == \"success\" ? (\n        <div style={{ marginTop: \"-4%\" }}>\n          <Main>\n            <Row gutter={15}>\n              <Col md={24}>\n                <Cards headless>\n                  <Row gutter={30}>\n                    <Col xxl={17} xs={24}>\n                      <PaymentSuccess transactionId={txnid} price={price} />\n                    </Col>\n                  </Row>\n                </Cards>\n              </Col>\n            </Row>\n          </Main>\n        </div>\n      ) : null}\n    </React.Fragment>\n  );\n};\n\nexport default ShoppingCart;\n"]},"metadata":{},"sourceType":"module"}