{"ast":null,"code":"import \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nvar _jsxFileName = \"/home/oem/Documents/React/strikingDash_Backup/ithotstechnology-striking-dash-dd179455c0fe/src/container/dashboard/admin.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\n// --Lokesh\nimport React, { useState, useEffect } from \"react\";\nimport FeatherIcon from \"feather-icons-react\";\nimport { PageHeader } from \"../../components/page-headers/page-headers\";\nimport { Cards } from \"../../components/cards/frame/cards-frame\";\nimport { Button } from \"../../components/buttons/buttons\";\nimport { Main } from \"../styled\";\nimport { ShareButtonPageHeader } from \"../../components/buttons/share-button/share-button\";\nimport { ExportButtonPageHeader } from \"../../components/buttons/export-button/export-button\";\nimport { CalendarButtonPageHeader } from \"../../components/buttons/calendar-button/calendar-button\";\nimport NestedTable from \"../admin/CategoryAndSubcategoryTable/index\";\nimport CustomModal from \"../admin/CreateCategory/index\";\nimport { getCategories, createCategory, createSubCategory, getSubCategories, editCategory, editSubCategory, deleteCategory, deleteSubCategory } from \"../../redux/categories/actionCreator\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Fragment } from \"react\";\n\nconst Dashboard = () => {\n  const [state, setState] = useState({\n    flag: \"english\",\n    username: localStorage.getItem(\"username\")\n  });\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [showDeleteConf, setShowDeleteConf] = useState(false);\n  const [modalType, setModalType] = useState(\"\");\n  const [categoryName, setCategoryName] = useState(\"\");\n  const [subCategoryName, setSubCategoryName] = useState(\"\");\n  const [icons, setIcons] = useState([]);\n  const [selectedCategoryInfo, setSelectedCategoryInfo] = useState({});\n  const [selectedCategoryType, setSelectedCategoryType] = useState(\"\");\n  const [parentCatID, setParentCatID] = useState(\"\");\n  const [showSubCategory, setShowSubCategory] = useState(false);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [selectedCatId, setSelectedCatId] = useState(\"\");\n  const isLoading = useSelector(state => state.categories.loading);\n  const categories = useSelector(state => {\n    var _state$categories$cat;\n\n    return (_state$categories$cat = state.categories.categories) === null || _state$categories$cat === void 0 ? void 0 : _state$categories$cat.data;\n  });\n  const Subcategories = useSelector(state => {\n    var _state$categories$sub;\n\n    return (_state$categories$sub = state.categories.subCategories) === null || _state$categories$sub === void 0 ? void 0 : _state$categories$sub.data;\n  });\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getCategories());\n    dispatch(getSubCategories());\n  }, []);\n\n  const handleOk = () => {\n    if (isEditMode === false) {\n      let data = {};\n\n      if (selectedCategoryType === \"category\") {\n        if (categoryName !== \"\") {\n          data = {\n            name: categoryName,\n            order: 1,\n            is_active: true\n          };\n          dispatch(createCategory(data));\n        } else {\n          alert(\"Category name can not be empty\");\n        }\n      } else {\n        if (categoryName !== \"\" && parentCatID !== \"\") {\n          data = {\n            name: categoryName,\n            order: 1,\n            categoryId: parentCatID,\n            is_active: true\n          };\n          dispatch(createSubCategory(data));\n        } else {\n          alert(\"Category name can not be empty\");\n        }\n      }\n    } else {\n      let data = {\n        id: selectedCategoryInfo.key,\n        name: categoryName\n      };\n      selectedCategoryType === \"category\" ? dispatch(editCategory(selectedCategoryInfo.id, data)) : dispatch(editSubCategory(selectedCategoryInfo.id, data));\n    }\n\n    setIsModalVisible(false);\n    setIsEditMode(false);\n    setCategoryName(\"\");\n    setIcons([]);\n    setSelectedCategoryInfo({});\n    setSelectedCategoryType(\"\");\n    setParentCatID(\"\");\n    setSubCategoryName(\"\");\n    setModalType(\"\");\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n    resetValues();\n  };\n\n  const resetValues = () => {\n    console.log(\"triggered rfeset\");\n    setCategoryName(\"\");\n    setIcons([]);\n    setSelectedCategoryInfo({});\n    setSelectedCategoryType(\"\");\n    setIsEditMode(false);\n    setParentCatID(\"\");\n    setSubCategoryName(\"\");\n    setModalType(\"\");\n  };\n\n  const cancelDelete = () => {\n    setShowDeleteConf(false);\n    setSelectedCatId(\"\");\n  };\n\n  const removeCategory = () => {\n    let data = {\n      is_active: false\n    };\n\n    if (selectedCategoryType === \"category\") {\n      dispatch(deleteCategory(selectedCatId, data));\n    } else {\n      dispatch(deleteSubCategory(selectedCatId, data));\n    }\n\n    setShowDeleteConf(false);\n    setSelectedCatId(\"\");\n  };\n\n  const handleEditClick = (categoryInfo, isSubCategory) => {\n    if (isSubCategory) {\n      setShowSubCategory(true);\n    }\n\n    setIsEditMode(true);\n    setCategoryName(categoryInfo.name);\n    setSelectedCategoryInfo(categoryInfo);\n    setSelectedCategoryType(isSubCategory ? \"subcategory\" : \"category\");\n    setIsModalVisible(true);\n    setModalType(\"edit\");\n  };\n\n  const handleDeleteClick = (key, isSubCategory) => {\n    setSelectedCatId(key);\n    setSelectedCategoryType(isSubCategory ? \"subcategory\" : \"category\");\n    setShowDeleteConf(true);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"-5%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(PageHeader, {\n    ghost: true,\n    title: \"Categories List\",\n    buttons: [/*#__PURE__*/React.createElement(\"div\", {\n      key: \"6\",\n      className: \"page-header-actions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CalendarButtonPageHeader, {\n      key: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(ExportButtonPageHeader, {\n      key: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(ShareButtonPageHeader, {\n      key: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      size: \"small\",\n      key: \"4\",\n      type: \"primary\",\n      onClick: () => {\n        setSelectedCategoryType(\"category\");\n        setIsEditMode(false);\n        setIsModalVisible(true);\n        setShowSubCategory(false);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FeatherIcon, {\n      icon: \"plus\",\n      size: 14,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }), \"Add Category\"))],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Main, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Row, {\n    gutter: 25,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Col, {\n    lg: 24,\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Cards, {\n    headless: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      minHeight: \"calc(100vh - 320px)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CustomModal, {\n    subCategoryName: subCategoryName,\n    setSubCategoryName: setSubCategoryName,\n    setCategoryName: setCategoryName,\n    setIcons: setIcons,\n    categoryName: categoryName,\n    icons: icons,\n    title: modalType === \"edit\" ? \"Edit Category\" : \"Create a new Category\",\n    isSubCategory: showSubCategory,\n    isModalVisible: isModalVisible,\n    handleOk: handleOk,\n    resetValues: resetValues,\n    handleCancel: handleCancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(NestedTable, {\n    handleOk: handleOk,\n    modalType: modalType,\n    handleCancel: handleCancel,\n    isModalVisible: isModalVisible,\n    setIsModalVisible: setIsModalVisible,\n    resetValues: resetValues,\n    setParentCatID: setParentCatID,\n    isLoading: isLoading,\n    Subcategories: Subcategories,\n    categories: categories,\n    setCategoryName: setCategoryName,\n    categoryName: categoryName,\n    deleteCategory: removeCategory,\n    cancelDelete: cancelDelete,\n    setShowSubCategory: setShowSubCategory,\n    showSubCategory: showSubCategory,\n    handleEditClick: handleEditClick,\n    handleDeleteClick: handleDeleteClick,\n    showConfirmation: showDeleteConf,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 17\n    }\n  })))))));\n};\n\n__signature__(Dashboard, \"useState{[state, setState]({\\n    flag: \\\"english\\\",\\n    username: localStorage.getItem(\\\"username\\\"),\\n  })}\\nuseState{[isModalVisible, setIsModalVisible](false)}\\nuseState{[showDeleteConf, setShowDeleteConf](false)}\\nuseState{[modalType, setModalType](\\\"\\\")}\\nuseState{[categoryName, setCategoryName](\\\"\\\")}\\nuseState{[subCategoryName, setSubCategoryName](\\\"\\\")}\\nuseState{[icons, setIcons]([])}\\nuseState{[selectedCategoryInfo, setSelectedCategoryInfo]({})}\\nuseState{[selectedCategoryType, setSelectedCategoryType](\\\"\\\")}\\nuseState{[parentCatID, setParentCatID](\\\"\\\")}\\nuseState{[showSubCategory, setShowSubCategory](false)}\\nuseState{[isEditMode, setIsEditMode](false)}\\nuseState{[selectedCatId, setSelectedCatId](\\\"\\\")}\\nuseSelector{isLoading}\\nuseSelector{categories}\\nuseSelector{Subcategories}\\nuseDispatch{dispatch}\\nuseEffect{}\", () => [useSelector, useSelector, useSelector, useDispatch]);\n\nconst _default = Dashboard;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(Dashboard, \"Dashboard\", \"/home/oem/Documents/React/strikingDash_Backup/ithotstechnology-striking-dash-dd179455c0fe/src/container/dashboard/admin.js\");\n  reactHotLoader.register(_default, \"default\", \"/home/oem/Documents/React/strikingDash_Backup/ithotstechnology-striking-dash-dd179455c0fe/src/container/dashboard/admin.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/oem/Documents/React/strikingDash_Backup/ithotstechnology-striking-dash-dd179455c0fe/src/container/dashboard/admin.js"],"names":["React","useState","useEffect","FeatherIcon","PageHeader","Cards","Button","Main","ShareButtonPageHeader","ExportButtonPageHeader","CalendarButtonPageHeader","NestedTable","CustomModal","getCategories","createCategory","createSubCategory","getSubCategories","editCategory","editSubCategory","deleteCategory","deleteSubCategory","useDispatch","useSelector","Fragment","Dashboard","state","setState","flag","username","localStorage","getItem","isModalVisible","setIsModalVisible","showDeleteConf","setShowDeleteConf","modalType","setModalType","categoryName","setCategoryName","subCategoryName","setSubCategoryName","icons","setIcons","selectedCategoryInfo","setSelectedCategoryInfo","selectedCategoryType","setSelectedCategoryType","parentCatID","setParentCatID","showSubCategory","setShowSubCategory","isEditMode","setIsEditMode","selectedCatId","setSelectedCatId","isLoading","categories","loading","data","Subcategories","subCategories","dispatch","handleOk","name","order","is_active","alert","categoryId","id","key","handleCancel","resetValues","console","log","cancelDelete","removeCategory","handleEditClick","categoryInfo","isSubCategory","handleDeleteClick","marginTop","minHeight"],"mappings":"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","sourcesContent":["// --Lokesh\nimport React, { useState, useEffect } from \"react\";\nimport { Row, Col } from \"antd\";\nimport FeatherIcon from \"feather-icons-react\";\nimport { PageHeader } from \"../../components/page-headers/page-headers\";\nimport { Cards } from \"../../components/cards/frame/cards-frame\";\nimport { Button } from \"../../components/buttons/buttons\";\nimport { Main } from \"../styled\";\nimport { ShareButtonPageHeader } from \"../../components/buttons/share-button/share-button\";\nimport { ExportButtonPageHeader } from \"../../components/buttons/export-button/export-button\";\nimport { CalendarButtonPageHeader } from \"../../components/buttons/calendar-button/calendar-button\";\nimport NestedTable from \"../admin/CategoryAndSubcategoryTable/index\";\nimport CustomModal from \"../admin/CreateCategory/index\";\nimport {\n  getCategories,\n  createCategory,\n  createSubCategory,\n  getSubCategories,\n  editCategory,\n  editSubCategory,\n  deleteCategory,\n  deleteSubCategory,\n} from \"../../redux/categories/actionCreator\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Fragment } from \"react\";\n\nconst Dashboard = () => {\n  const [state, setState] = useState({\n    flag: \"english\",\n    username: localStorage.getItem(\"username\"),\n  });\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [showDeleteConf, setShowDeleteConf] = useState(false);\n  const [modalType, setModalType] = useState(\"\");\n  const [categoryName, setCategoryName] = useState(\"\");\n  const [subCategoryName, setSubCategoryName] = useState(\"\");\n  const [icons, setIcons] = useState([]);\n  const [selectedCategoryInfo, setSelectedCategoryInfo] = useState({});\n  const [selectedCategoryType, setSelectedCategoryType] = useState(\"\");\n  const [parentCatID, setParentCatID] = useState(\"\");\n  const [showSubCategory, setShowSubCategory] = useState(false);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [selectedCatId, setSelectedCatId] = useState(\"\");\n  const isLoading = useSelector((state) => state.categories.loading);\n  const categories = useSelector((state) => state.categories.categories?.data);\n  const Subcategories = useSelector(\n    (state) => state.categories.subCategories?.data\n  );\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getCategories());\n    dispatch(getSubCategories());\n  }, []);\n  const handleOk = () => {\n    if (isEditMode === false) {\n      let data = {};\n      if (selectedCategoryType === \"category\") {\n        if (categoryName !== \"\") {\n          data = {\n            name: categoryName,\n            order: 1,\n            is_active: true,\n          };\n          dispatch(createCategory(data));\n        } else {\n          alert(\"Category name can not be empty\");\n        }\n      } else {\n        if (categoryName !== \"\" && parentCatID !== \"\") {\n          data = {\n            name: categoryName,\n            order: 1,\n            categoryId: parentCatID,\n            is_active: true,\n          };\n          dispatch(createSubCategory(data));\n        } else {\n          alert(\"Category name can not be empty\");\n        }\n      }\n    } else {\n      let data = {\n        id: selectedCategoryInfo.key,\n        name: categoryName,\n      };\n      selectedCategoryType === \"category\"\n        ? dispatch(editCategory(selectedCategoryInfo.id, data))\n        : dispatch(editSubCategory(selectedCategoryInfo.id, data));\n    }\n    setIsModalVisible(false);\n    setIsEditMode(false);\n    setCategoryName(\"\");\n    setIcons([]);\n    setSelectedCategoryInfo({});\n    setSelectedCategoryType(\"\");\n    setParentCatID(\"\");\n    setSubCategoryName(\"\");\n    setModalType(\"\");\n  };\n  const handleCancel = () => {\n    setIsModalVisible(false);\n    resetValues();\n  };\n  const resetValues = () => {\n    console.log(\"triggered rfeset\");\n    setCategoryName(\"\");\n    setIcons([]);\n    setSelectedCategoryInfo({});\n    setSelectedCategoryType(\"\");\n    setIsEditMode(false);\n    setParentCatID(\"\");\n    setSubCategoryName(\"\");\n    setModalType(\"\");\n  };\n  const cancelDelete = () => {\n    setShowDeleteConf(false);\n    setSelectedCatId(\"\");\n  };\n  const removeCategory = () => {\n    let data = { is_active: false };\n    if (selectedCategoryType === \"category\") {\n      dispatch(deleteCategory(selectedCatId, data));\n    } else {\n      dispatch(deleteSubCategory(selectedCatId, data));\n    }\n\n    setShowDeleteConf(false);\n    setSelectedCatId(\"\");\n  };\n  const handleEditClick = (categoryInfo, isSubCategory) => {\n    if (isSubCategory) {\n      setShowSubCategory(true);\n    }\n    setIsEditMode(true);\n    setCategoryName(categoryInfo.name);\n    setSelectedCategoryInfo(categoryInfo);\n    setSelectedCategoryType(isSubCategory ? \"subcategory\" : \"category\");\n    setIsModalVisible(true);\n    setModalType(\"edit\");\n  };\n  const handleDeleteClick = (key, isSubCategory) => {\n    setSelectedCatId(key);\n    setSelectedCategoryType(isSubCategory ? \"subcategory\" : \"category\");\n    setShowDeleteConf(true);\n  };\n\n  return (\n    <div style={{ marginTop: \"-5%\" }}>\n      <PageHeader\n        ghost\n        title=\"Categories List\"\n        buttons={[\n          <div key=\"6\" className=\"page-header-actions\">\n            <CalendarButtonPageHeader key=\"1\" />\n            <ExportButtonPageHeader key=\"2\" />\n            <ShareButtonPageHeader key=\"3\" />\n            <Button\n              size=\"small\"\n              key=\"4\"\n              type=\"primary\"\n              onClick={() => {\n                setSelectedCategoryType(\"category\");\n                setIsEditMode(false);\n                setIsModalVisible(true);\n                setShowSubCategory(false);\n              }}\n            >\n              <FeatherIcon icon=\"plus\" size={14} />\n              Add Category\n            </Button>\n          </div>,\n        ]}\n      />\n      <Main>\n        <Row gutter={25}>\n          <Col lg={24} xs={24}>\n            <Cards headless>\n              <div style={{ minHeight: \"calc(100vh - 320px)\" }}>\n                {/* <h2>Welcome, {state.username}</h2> */}\n                {/* <h2>Categories List</h2> */}\n\n                <CustomModal\n                  subCategoryName={subCategoryName}\n                  setSubCategoryName={setSubCategoryName}\n                  setCategoryName={setCategoryName}\n                  setIcons={setIcons}\n                  categoryName={categoryName}\n                  icons={icons}\n                  title={\n                    modalType === \"edit\"\n                      ? \"Edit Category\"\n                      : \"Create a new Category\"\n                  }\n                  isSubCategory={showSubCategory}\n                  isModalVisible={isModalVisible}\n                  handleOk={handleOk}\n                  resetValues={resetValues}\n                  handleCancel={handleCancel}\n                />\n                <NestedTable\n                  handleOk={handleOk}\n                  modalType={modalType}\n                  handleCancel={handleCancel}\n                  isModalVisible={isModalVisible}\n                  setIsModalVisible={setIsModalVisible}\n                  resetValues={resetValues}\n                  setParentCatID={setParentCatID}\n                  isLoading={isLoading}\n                  Subcategories={Subcategories}\n                  categories={categories}\n                  setCategoryName={setCategoryName}\n                  categoryName={categoryName}\n                  deleteCategory={removeCategory}\n                  cancelDelete={cancelDelete}\n                  setShowSubCategory={setShowSubCategory}\n                  showSubCategory={showSubCategory}\n                  handleEditClick={handleEditClick}\n                  handleDeleteClick={handleDeleteClick}\n                  showConfirmation={showDeleteConf}\n                />\n              </div>\n            </Cards>\n          </Col>\n        </Row>\n      </Main>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}