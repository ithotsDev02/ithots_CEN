{"ast":null,"code":"import \"antd/es/table/style\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/alert/style\";\nimport _Alert from \"antd/es/alert\";\nvar _jsxFileName = \"/home/ithotsdev02/Downloads/mydownloads/CEN/src/container/tutor/courseEnrollment/index.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { useState, useEffect } from \"react\";\nimport FeatherIcon from \"feather-icons-react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { FigureCart, ProductTable, CouponForm } from \"../../ecommerce/Style\";\nimport { Cards } from \"../../../components/cards/frame/cards-frame\";\nimport axiosInstance from \"../../../config/axoisconfig\";\naxiosInstance.defaults.headers.common[\"xaccesstoken\"] = `${localStorage.getItem(\"token\") || \"\"}`;\nimport Heading from \"../../../components/heading/heading\";\nimport { Button } from \"../../../components/buttons/buttons\";\nimport { Link, Redirect, useRouteMatch } from \"react-router-dom\";\nimport CourseStudentTable from \"./CourseStudentTable/index\";\nimport { Main } from \"../../styled\";\n\nconst EnrolledStudents = () => {\n  let cartData = [{\n    key: 1,\n    img: \"uploads/course/2021-03-25T18:12:06.692ZimageName.jpg\",\n    paymentrecieved: 100,\n    paymentpending: 2343,\n    title: \"Sample course\",\n    total: 234,\n    courseId: 68\n  }, {\n    key: 2,\n    img: \"uploads/course/2021-03-25T18:12:06.692ZimageName.jpg\",\n    paymentrecieved: 100,\n    paymentpending: 2343,\n    title: \"Sample course\",\n    courseId: 68,\n    total: 234\n  }, {\n    key: 3,\n    img: \"uploads/course/2021-03-25T18:12:06.692ZimageName.jpg\",\n    paymentrecieved: 100,\n    paymentpending: 2343,\n    title: \"Sample course\",\n    total: 234,\n    courseId: 68\n  }];\n  const [isLoading, setisLoading] = useState(false);\n  const [productTableData, setproductTableData] = useState([]);\n  const [courses, setcourses] = useState([]);\n  const [transData, setTransData] = useState([]);\n  useEffect(() => {\n    setTransData([{\n      id: 15,\n      CourseId: 5,\n      BatchId: 11,\n      StudentId: 1,\n      enrollType: \"MONTHLY\",\n      createdAt: \"2021-05-30T07:56:56.271Z\",\n      updatedAt: \"2021-05-30T07:56:56.271Z\",\n      course_from_enroll_course: {\n        id: 5,\n        title: \"Java Programming Masterclass for Software Developer\",\n        is_active: true,\n        created_by: 4\n      },\n      student_from_enroll_course: [{\n        id: 1,\n        full_name: \"Lokesh Kumar\",\n        is_verified: true\n      }],\n      batch_from_enroll_course: [{\n        id: 11,\n        name: \"4days\",\n        title: \"4days\",\n        participants_size: 4,\n        price: 400,\n        total_price: 4000,\n        total_duration: 5,\n        start_date: \"2021-06-01T00:00:00.000Z\",\n        end_date: \"2021-06-03T00:00:00.000Z\"\n      }],\n      duePayment: [{\n        id: 63,\n        status: \"PAID_TO_ADMIN\",\n        amount: 400,\n        price: 400,\n        transaction_number: 622181,\n        transaction_date: \"2021-05-30T07:56:50.499Z\",\n        transaction_due_date: \"2021-05-30T00:00:00.000Z\",\n        createdAt: \"2021-05-30T07:56:50.711Z\"\n      }, {\n        id: 64,\n        status: \"PAID_TO_ADMIN\",\n        amount: 400,\n        price: 400,\n        transaction_number: 620718,\n        transaction_date: \"2021-05-30T07:56:50.499Z\",\n        transaction_due_date: \"2021-06-30T00:00:00.000Z\",\n        createdAt: \"2021-05-30T07:56:55.707Z\"\n      }, {\n        id: 65,\n        status: \"PENDING\",\n        amount: 400,\n        price: 400,\n        transaction_number: null,\n        transaction_date: \"2021-05-30T07:56:50.499Z\",\n        transaction_due_date: \"2021-07-30T00:00:00.000Z\",\n        createdAt: \"2021-05-30T07:57:00.705Z\"\n      }, {\n        id: 66,\n        status: \"PENDING\",\n        amount: 400,\n        price: 400,\n        transaction_number: null,\n        transaction_date: \"2021-05-30T07:56:50.499Z\",\n        transaction_due_date: \"2021-08-30T00:00:00.000Z\",\n        createdAt: \"2021-05-30T07:57:05.706Z\"\n      }, {\n        id: 67,\n        status: \"PENDING\",\n        amount: 400,\n        price: 400,\n        transaction_number: null,\n        transaction_date: \"2021-05-30T07:56:50.499Z\",\n        transaction_due_date: \"2021-09-30T00:00:00.000Z\",\n        createdAt: \"2021-05-30T07:57:10.707Z\"\n      }]\n    }]);\n  }, []);\n  useEffect(() => {\n    setisLoading(true);\n    let URL = \"\";\n    URL = \"https://api-v2.esculae.com/api/v1/personal/faculty-course-payment-list\";\n    axiosInstance.get(URL, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(resp => {\n      console.log(\"the data is for tutor transactions\", resp.data);\n      setTransData(resp.data.data);\n      setisLoading(false);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n  const courseColumns = [{\n    title: \"Course\",\n    dataIndex: \"product\",\n    key: \"product\"\n  }, // {\n  //   title: \"Payment Recieved\",\n  //   dataIndex: \"paymentRecieved\",\n  //   key: \"paymentRecieved\",\n  // },\n  // {\n  //   title: \"Payment Pending\",\n  //   dataIndex: \"paymentPending\",\n  //   key: \"paymentPending\",\n  // },\n  {\n    title: \"Duration\",\n    dataIndex: \"duration\",\n    key: \"duration\"\n  } // { title: \"Students\", dataIndex: \"total\", key: \"total\" },\n  ];\n  useEffect(() => {\n    let tmp = [];\n    transData.map(data => {\n      var _data$course_from_enr, _data$course_from_enr2, _data$course_from_enr3, _data$course_from_enr4;\n\n      let paymentRecivedTotal = 0;\n      let paymentPendingTotal = 0;\n      data.duePayment.map(item => {\n        if (item.status === \"PENDING\") {\n          paymentPendingTotal = paymentPendingTotal + item.amount;\n        } else {\n          paymentRecivedTotal = paymentRecivedTotal + item.amount;\n        }\n      });\n      tmp.push({\n        key: data.id,\n        product: /*#__PURE__*/React.createElement(\"div\", {\n          className: \"cart-single\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(FigureCart, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }\n        }, ((_data$course_from_enr = data.course_from_enroll_course) === null || _data$course_from_enr === void 0 ? void 0 : _data$course_from_enr.image) ? /*#__PURE__*/React.createElement(\"img\", {\n          style: {\n            width: 80,\n            borderRadius: \"15px\"\n          },\n          src: \"https://api-v2.esculae.com/\" + ((_data$course_from_enr2 = data.course_from_enroll_course) === null || _data$course_from_enr2 === void 0 ? void 0 : _data$course_from_enr2.image),\n          alt: \"\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 17\n          }\n        }) : \"\", /*#__PURE__*/React.createElement(\"figcaption\", {\n          style: {\n            marginTop: \"20px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"cart-single__info\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: `/${window.location.pathname.split('/')[1]}/coursedetail/${(_data$course_from_enr3 = data.course_from_enroll_course) === null || _data$course_from_enr3 === void 0 ? void 0 : _data$course_from_enr3.id}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(Heading, {\n          as: \"h6\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 21\n          }\n        }, (_data$course_from_enr4 = data.course_from_enroll_course) === null || _data$course_from_enr4 === void 0 ? void 0 : _data$course_from_enr4.title)))))),\n        paymentRecieved: /*#__PURE__*/React.createElement(\"span\", {\n          className: \"cart-single-t-price\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 11\n          }\n        }, paymentRecivedTotal),\n        paymentPending: /*#__PURE__*/React.createElement(\"span\", {\n          className: \"cart-single-t-price\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 11\n          }\n        }, paymentPendingTotal),\n        total: /*#__PURE__*/React.createElement(\"span\", {\n          className: \"cart-single-t-price\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 11\n          }\n        }, data.student_from_enroll_course.length),\n        duration: /*#__PURE__*/React.createElement(\"span\", {\n          className: \"cart-single-t-price\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 11\n          }\n        }, data.batch_from_enroll_course.total_duration) // courseId: data.courseId,\n\n      });\n    });\n    console.log(\"ther sd\", tmp);\n    setcourses(tmp); // }\n  }, [transData]);\n\n  const expandedRow = row => {\n    const columns = [{\n      title: \"Name\",\n      dataIndex: \"name\",\n      key: \"name\",\n      width: \"50%\" //   filters: subCategoriesFilterList,\n      // filterMultiple: true,\n      // onFilter: (value, record) => record.category.indexOf(value) === 0,\n      // sorter: (a, b) => a.category.length - b.category.length,\n      // sortDirections: [\"descend\", \"ascend\"],\n\n    }, {\n      title: \"Batch\",\n      dataIndex: \"batch\",\n      key: \"batch\",\n      width: \"25%\"\n    } // {\n    //   title: \"Payment Recieved\",\n    //   dataIndex: \"paymentRecieved\",\n    //   key: \"paymentRecieved\",\n    //   width: \"25%\",\n    // },\n    // {\n    //   title: \"Payment Pending\",\n    //   dataIndex: \"paymentPending\",\n    //   key: \"paymentPending\",\n    //   width: \"25%\",\n    // },\n    //  { title: \"Action\", dataIndex: \"action\", key: \"action\", width: \"25%\" },\n    ];\n    const data = [];\n    transData && transData.map((transaction, idx) => {\n      if (transaction.id === row.key) {\n        // console.log(\"transaction\", transaction);\n        data.push({\n          key: transaction.student_from_enroll_course.id,\n          batch: transaction.batch_from_enroll_course.name,\n          name: transaction.student_from_enroll_course.full_name // paymentRecieved: 0,\n          // paymentPending: 0,\n\n        });\n      }\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginBottom: \"50px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(_Alert, {\n      message: \"Enrolled students list\",\n      type: \"warning\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }\n    }), data.length > 0 ? /*#__PURE__*/React.createElement(_Table, {\n      scroll: {\n        x: true\n      },\n      loading: isLoading,\n      columns: columns,\n      dataSource: data,\n      pagination: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 11\n      }\n    }) : /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 13\n      }\n    }, \"No students enrolled yet.\")));\n  };\n\n  return /*#__PURE__*/React.createElement(Main, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Cards, {\n    title: \"Enrolled Students List\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CourseStudentTable, {\n    expandedRow: expandedRow,\n    courseColumns: courseColumns,\n    courses: courses,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 9\n    }\n  })));\n};\n\n__signature__(EnrolledStudents, \"useState{[isLoading, setisLoading](false)}\\nuseState{[productTableData, setproductTableData]([])}\\nuseState{[courses, setcourses]([])}\\nuseState{[transData, setTransData]([])}\\nuseEffect{}\\nuseEffect{}\\nuseEffect{}\");\n\nconst _default = EnrolledStudents;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(EnrolledStudents, \"EnrolledStudents\", \"/home/ithotsdev02/Downloads/mydownloads/CEN/src/container/tutor/courseEnrollment/index.js\");\n  reactHotLoader.register(_default, \"default\", \"/home/ithotsdev02/Downloads/mydownloads/CEN/src/container/tutor/courseEnrollment/index.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/ithotsdev02/Downloads/mydownloads/CEN/src/container/tutor/courseEnrollment/index.js"],"names":["React","useState","useEffect","FeatherIcon","useDispatch","useSelector","FigureCart","ProductTable","CouponForm","Cards","axiosInstance","defaults","headers","common","localStorage","getItem","Heading","Button","Link","Redirect","useRouteMatch","CourseStudentTable","Main","EnrolledStudents","cartData","key","img","paymentrecieved","paymentpending","title","total","courseId","isLoading","setisLoading","productTableData","setproductTableData","courses","setcourses","transData","setTransData","id","CourseId","BatchId","StudentId","enrollType","createdAt","updatedAt","course_from_enroll_course","is_active","created_by","student_from_enroll_course","full_name","is_verified","batch_from_enroll_course","name","participants_size","price","total_price","total_duration","start_date","end_date","duePayment","status","amount","transaction_number","transaction_date","transaction_due_date","URL","get","then","resp","console","log","data","catch","err","courseColumns","dataIndex","tmp","map","paymentRecivedTotal","paymentPendingTotal","item","push","product","image","width","borderRadius","marginTop","window","location","pathname","split","paymentRecieved","paymentPending","length","duration","expandedRow","row","columns","transaction","idx","batch","marginBottom","x"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Row, Col, Table, Form, Input, Spin } from \"antd\";\nimport FeatherIcon from \"feather-icons-react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { FigureCart, ProductTable, CouponForm } from \"../../ecommerce/Style\";\nimport { Cards } from \"../../../components/cards/frame/cards-frame\";\nimport axiosInstance from \"../../../config/axoisconfig\";\naxiosInstance.defaults.headers.common[\"xaccesstoken\"] = `${localStorage.getItem(\n  \"token\"\n) || \"\"}`;\nimport Heading from \"../../../components/heading/heading\";\nimport { Button } from \"../../../components/buttons/buttons\";\nimport { Link, Redirect, useRouteMatch } from \"react-router-dom\";\nimport CourseStudentTable from \"./CourseStudentTable/index\";\nimport { Main } from \"../../styled\";\nimport { Alert } from \"antd\";\n\nconst EnrolledStudents = () => {\n  let cartData = [\n    {\n      key: 1,\n      img: \"uploads/course/2021-03-25T18:12:06.692ZimageName.jpg\",\n      paymentrecieved: 100,\n      paymentpending: 2343,\n      title: \"Sample course\",\n      total: 234,\n      courseId: 68,\n    },\n    {\n      key: 2,\n      img: \"uploads/course/2021-03-25T18:12:06.692ZimageName.jpg\",\n      paymentrecieved: 100,\n      paymentpending: 2343,\n      title: \"Sample course\",\n      courseId: 68,\n      total: 234,\n    },\n    {\n      key: 3,\n      img: \"uploads/course/2021-03-25T18:12:06.692ZimageName.jpg\",\n      paymentrecieved: 100,\n      paymentpending: 2343,\n      title: \"Sample course\",\n      total: 234,\n      courseId: 68,\n    },\n  ];\n  const [isLoading, setisLoading] = useState(false);\n  const [productTableData, setproductTableData] = useState([]);\n  const [courses, setcourses] = useState([]);\n  const [transData, setTransData] = useState([]);\n  useEffect(() => {\n    setTransData([\n      {\n        id: 15,\n        CourseId: 5,\n        BatchId: 11,\n        StudentId: 1,\n        enrollType: \"MONTHLY\",\n        createdAt: \"2021-05-30T07:56:56.271Z\",\n        updatedAt: \"2021-05-30T07:56:56.271Z\",\n        course_from_enroll_course: {\n          id: 5,\n          title: \"Java Programming Masterclass for Software Developer\",\n          is_active: true,\n          created_by: 4,\n        },\n        student_from_enroll_course: [\n          {\n            id: 1,\n            full_name: \"Lokesh Kumar\",\n            is_verified: true,\n          },\n        ],\n        batch_from_enroll_course: [\n          {\n            id: 11,\n            name: \"4days\",\n            title: \"4days\",\n            participants_size: 4,\n            price: 400,\n            total_price: 4000,\n            total_duration: 5,\n            start_date: \"2021-06-01T00:00:00.000Z\",\n            end_date: \"2021-06-03T00:00:00.000Z\",\n          },\n        ],\n        duePayment: [\n          {\n            id: 63,\n            status: \"PAID_TO_ADMIN\",\n            amount: 400,\n            price: 400,\n            transaction_number: 622181,\n            transaction_date: \"2021-05-30T07:56:50.499Z\",\n            transaction_due_date: \"2021-05-30T00:00:00.000Z\",\n            createdAt: \"2021-05-30T07:56:50.711Z\",\n          },\n          {\n            id: 64,\n            status: \"PAID_TO_ADMIN\",\n            amount: 400,\n            price: 400,\n            transaction_number: 620718,\n            transaction_date: \"2021-05-30T07:56:50.499Z\",\n            transaction_due_date: \"2021-06-30T00:00:00.000Z\",\n            createdAt: \"2021-05-30T07:56:55.707Z\",\n          },\n          {\n            id: 65,\n            status: \"PENDING\",\n            amount: 400,\n            price: 400,\n            transaction_number: null,\n            transaction_date: \"2021-05-30T07:56:50.499Z\",\n            transaction_due_date: \"2021-07-30T00:00:00.000Z\",\n            createdAt: \"2021-05-30T07:57:00.705Z\",\n          },\n          {\n            id: 66,\n            status: \"PENDING\",\n            amount: 400,\n            price: 400,\n            transaction_number: null,\n            transaction_date: \"2021-05-30T07:56:50.499Z\",\n            transaction_due_date: \"2021-08-30T00:00:00.000Z\",\n            createdAt: \"2021-05-30T07:57:05.706Z\",\n          },\n          {\n            id: 67,\n            status: \"PENDING\",\n            amount: 400,\n            price: 400,\n            transaction_number: null,\n            transaction_date: \"2021-05-30T07:56:50.499Z\",\n            transaction_due_date: \"2021-09-30T00:00:00.000Z\",\n            createdAt: \"2021-05-30T07:57:10.707Z\",\n          },\n        ],\n      },\n    ]);\n  }, []);\n  useEffect(() => {\n    setisLoading(true);\n    let URL = \"\";\n    URL =\n      \"https://api-v2.esculae.com/api/v1/personal/faculty-course-payment-list\";\n    axiosInstance\n      .get(URL, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      })\n      .then((resp) => {\n        console.log(\"the data is for tutor transactions\", resp.data);\n         setTransData(resp.data.data);\n        setisLoading(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n  const courseColumns = [\n    { title: \"Course\", dataIndex: \"product\", key: \"product\" },\n    // {\n    //   title: \"Payment Recieved\",\n    //   dataIndex: \"paymentRecieved\",\n    //   key: \"paymentRecieved\",\n    // },\n    // {\n    //   title: \"Payment Pending\",\n    //   dataIndex: \"paymentPending\",\n    //   key: \"paymentPending\",\n    // },\n    { title: \"Duration\", dataIndex: \"duration\", key: \"duration\" },\n    // { title: \"Students\", dataIndex: \"total\", key: \"total\" },\n  ];\n\n  useEffect(() => {\n    let tmp = [];\n    transData.map((data) => {\n      let paymentRecivedTotal = 0;\n      let paymentPendingTotal = 0;\n      data.duePayment.map((item) => {\n        if (item.status === \"PENDING\") {\n          paymentPendingTotal = paymentPendingTotal + item.amount;\n        } else {\n          paymentRecivedTotal = paymentRecivedTotal + item.amount;\n        }\n      });\n      tmp.push({\n        key: data.id,\n        product: (\n          <div className=\"cart-single\">\n            <FigureCart>\n              {data.course_from_enroll_course?.image ? (\n                <img\n                  style={{ width: 80, borderRadius: \"15px\" }}\n                  src={\n                    \"https://api-v2.esculae.com/\" +\n                    data.course_from_enroll_course?.image\n                  }\n                  alt=\"\"\n                />\n              ) : (\n                \"\"\n              )}\n\n              <figcaption style={{ marginTop: \"20px\" }}>\n                <div className=\"cart-single__info\">\n                  <Link\n                    to={`/${window.location.pathname.split('/')[1]}/coursedetail/${data.course_from_enroll_course?.id}`}\n                  >\n                    <Heading as=\"h6\">\n                      {data.course_from_enroll_course?.title}\n                    </Heading>\n                  </Link>\n                  {/* <ul className=\"info-list\">\n                  <li>\n                    <span className=\"info-title\">Batch :</span>\n                    <span>{data.batch.title}</span>\n                  </li>\n                </ul> */}\n                </div>\n              </figcaption>\n            </FigureCart>\n          </div>\n        ),\n\n        paymentRecieved: (\n          <span className=\"cart-single-t-price\">{paymentRecivedTotal}</span>\n        ),\n        paymentPending: (\n          <span className=\"cart-single-t-price\">{paymentPendingTotal}</span>\n        ),\n\n        total: (\n          <span className=\"cart-single-t-price\">\n            {data.student_from_enroll_course.length}\n          </span>\n        ),\n        duration: (\n          <span className=\"cart-single-t-price\">\n            {data.batch_from_enroll_course.total_duration}\n          </span>\n        ),\n        // courseId: data.courseId,\n      });\n    });\n    console.log(\"ther sd\", tmp);\n    setcourses(tmp);\n\n    // }\n  }, [transData]);\n  const expandedRow = (row) => {\n    const columns = [\n      {\n        title: \"Name\",\n        dataIndex: \"name\",\n        key: \"name\",\n        width: \"50%\",\n        //   filters: subCategoriesFilterList,\n        // filterMultiple: true,\n        // onFilter: (value, record) => record.category.indexOf(value) === 0,\n        // sorter: (a, b) => a.category.length - b.category.length,\n        // sortDirections: [\"descend\", \"ascend\"],\n      },\n      { title: \"Batch\", dataIndex: \"batch\", key: \"batch\", width: \"25%\" },\n      // {\n      //   title: \"Payment Recieved\",\n      //   dataIndex: \"paymentRecieved\",\n      //   key: \"paymentRecieved\",\n      //   width: \"25%\",\n      // },\n      // {\n      //   title: \"Payment Pending\",\n      //   dataIndex: \"paymentPending\",\n      //   key: \"paymentPending\",\n      //   width: \"25%\",\n      // },\n\n      //  { title: \"Action\", dataIndex: \"action\", key: \"action\", width: \"25%\" },\n    ];\n    const data = [];\n    transData &&\n      transData.map((transaction, idx) => {\n        if (transaction.id === row.key) {\n          // console.log(\"transaction\", transaction);\n          data.push({\n            key: transaction.student_from_enroll_course.id,\n            batch: transaction.batch_from_enroll_course.name,\n            name: transaction.student_from_enroll_course.full_name,\n            // paymentRecieved: 0,\n            // paymentPending: 0,\n          });\n        }\n      });\n\n    return (\n      <div style={{ marginBottom: \"50px\" }}>\n        <Alert message=\"Enrolled students list\" type=\"warning\" />\n        {/* <center>\n          <p>t</p>\n        </center> */}\n        {data.length > 0 ? (\n          <Table\n            scroll={{ x: true }}\n            loading={isLoading}\n            columns={columns}\n            dataSource={data}\n            pagination={false}\n          />\n        ) : (\n          <center>\n            <p>No students enrolled yet.</p>\n          </center>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <Main>\n      <Cards title=\"Enrolled Students List\">\n        <CourseStudentTable\n          expandedRow={expandedRow}\n          courseColumns={courseColumns}\n          courses={courses}\n        />\n      </Cards>\n    </Main>\n  );\n};\n\nexport default EnrolledStudents;\n"]},"metadata":{},"sourceType":"module"}