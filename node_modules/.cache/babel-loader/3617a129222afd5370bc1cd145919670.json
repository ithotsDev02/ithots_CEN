{"ast":null,"code":"import \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nvar _jsxFileName = \"/home/ithotsdev02/Downloads/mydownloads/CEN/src/container/tutor/transactions/index.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { useEffect, useState } from \"react\";\nimport { Cards } from \"../../../components/cards/frame/cards-frame\";\nimport { Main } from \"../../styled\";\nimport moment from \"moment\";\nimport axiosInstance from \"../../../config/axoisconfig\";\naxiosInstance.defaults.headers.common[\"xaccesstoken\"] = `${localStorage.getItem(\"token\") || \"\"}`;\nimport CustomTable from \"../../../components/datatable/index\";\n\nfunction TransactionTables() {\n  const [isLoading, setisLoading] = useState(false);\n  const [transactions, settransactions] = useState([]);\n  const [tbldata, settbldata] = useState([]);\n  const currentUserId = localStorage.getItem(\"currentUserInfo\") || 0;\n  useEffect(() => {\n    setisLoading(true);\n    let URL = \"\";\n    URL = \"https://api.esculae.com/api/v1/course/transactions\";\n    axiosInstance.get(URL, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(resp => {\n      let currentTutorTrans = [];\n      resp.data.data.map(tran => {\n        if (tran.faculty_id == currentUserId) {\n          currentTutorTrans.push(tran);\n        }\n      });\n      settransactions(currentTutorTrans);\n      setisLoading(false);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n  const columns = [{\n    title: \"Transaction Date\",\n    dataIndex: \"tdate\",\n    key: \"tdate\",\n    sortDirections: [\"descend\", \"ascend\"],\n    defaultSortOrder: \"descend\",\n    // sorter: (a, b) => moment(a.tdate) - moment(b.tdate),\n    // sorter: (a, b) => new Date(a.tdate) - new Date(b.tdate),\n    sorter: (a, b) => moment(a.tdate).unix() - moment(b.tdate).unix()\n  }, {\n    title: \"Due Date\",\n    dataIndex: \"ddate\",\n    key: \"ddate\",\n    // sortDirections: [\"descend\", \"ascend\"],\n    // defaultSortOrder: \"descend\",\n    // sorter: (a, b) => moment(a.ddate) - moment(b.ddate),\n    sorter: (a, b) => moment(a.ddate).unix() - moment(b.ddate).unix()\n  }, {\n    title: \"CourseName\",\n    dataIndex: \"cname\",\n    key: \"cname\",\n    sorter: (a, b) => a.cname.localeCompare(b.cname)\n  }, {\n    title: \"Batch Name\",\n    dataIndex: \"bname\",\n    key: \"bname\"\n  }, {\n    title: \"StudentName\",\n    dataIndex: \"sname\",\n    key: \"sname\"\n  }, {\n    title: \"Amount\",\n    dataIndex: \"amount\",\n    key: \"amount\"\n  }, {\n    title: \"Transaction Id\",\n    dataIndex: \"tid\",\n    key: \"tid\"\n  }];\n  useEffect(() => {\n    if (transactions.length > 0) {\n      let tmptbl = [];\n      transactions.map(item => {\n        if (item.transaction_number !== \"\" && item.transaction_number !== null) {\n          tmptbl.push({\n            key: item.id,\n            tdate: moment(item.transaction_date).format(\"DD-MM-YYYY HH:MM:SS\"),\n            ddate: item.transaction_due_date ? moment(item.transaction_due_date).format(\"DD-MM-YYYY HH:MM:SS\") : \"-\",\n            cname: item.course_name,\n            bname: item.name,\n            sname: item.student_name,\n            tname: item.faculty_name,\n            // cname: \"Python for data science\",\n            amount: item.amount,\n            tid: item.transaction_number\n          });\n        }\n      });\n      settbldata(tmptbl);\n    }\n  }, [transactions]);\n  const data = [{\n    key: \"1\",\n    tdate: \"25 March 2021\",\n    cname: \"Python for data science\",\n    sname: \"Lokesh\",\n    amount: \" $4536\",\n    tid: \"sdasjd34aAFa\"\n  }, {\n    key: \"2\",\n    tdate: \"25 March 2021\",\n    cname: \"data science\",\n    amount: \" $536\",\n    sname: \"Lokesh\",\n    tid: \"sjde434aAFa\"\n  }, {\n    key: \"3\",\n    tdate: \"25 March 2021\",\n    cname: \"Python\",\n    amount: \" $45336\",\n    sname: \"Lokesh\",\n    tid: \"sdasjd34aAFa\"\n  }, {\n    key: \"4\",\n    tdate: \"25 March 2021\",\n    cname: \"Python for data science\",\n    amount: \" $4536\",\n    tid: \"sdasjd34aAFa\",\n    sname: \"Lokesh\"\n  }];\n  return /*#__PURE__*/React.createElement(Main, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(_Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Col, {\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Cards, {\n    title: \"Transaction History\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CustomTable, {\n    columns: columns,\n    data: tbldata,\n    loading: isLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  })))));\n}\n\n__signature__(TransactionTables, \"useState{[isLoading, setisLoading](false)}\\nuseState{[transactions, settransactions]([])}\\nuseState{[tbldata, settbldata]([])}\\nuseEffect{}\\nuseEffect{}\");\n\nconst _default = TransactionTables;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(TransactionTables, \"TransactionTables\", \"/home/ithotsdev02/Downloads/mydownloads/CEN/src/container/tutor/transactions/index.js\");\n  reactHotLoader.register(_default, \"default\", \"/home/ithotsdev02/Downloads/mydownloads/CEN/src/container/tutor/transactions/index.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/ithotsdev02/Downloads/mydownloads/CEN/src/container/tutor/transactions/index.js"],"names":["React","useEffect","useState","Cards","Main","moment","axiosInstance","defaults","headers","common","localStorage","getItem","CustomTable","TransactionTables","isLoading","setisLoading","transactions","settransactions","tbldata","settbldata","currentUserId","URL","get","then","resp","currentTutorTrans","data","map","tran","faculty_id","push","catch","err","console","log","columns","title","dataIndex","key","sortDirections","defaultSortOrder","sorter","a","b","tdate","unix","ddate","cname","localeCompare","length","tmptbl","item","transaction_number","id","transaction_date","format","transaction_due_date","course_name","bname","name","sname","student_name","tname","faculty_name","amount","tid"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Row, Col, Table } from \"antd\";\nimport { Cards } from \"../../../components/cards/frame/cards-frame\";\nimport { Main } from \"../../styled\";\nimport moment from \"moment\";\nimport axiosInstance from \"../../../config/axoisconfig\";\naxiosInstance.defaults.headers.common[\"xaccesstoken\"] = `${localStorage.getItem(\n  \"token\"\n) || \"\"}`;\nimport CustomTable from \"../../../components/datatable/index\";\nfunction TransactionTables() {\n  const [isLoading, setisLoading] = useState(false);\n  const [transactions, settransactions] = useState([]);\n  const [tbldata, settbldata] = useState([]);\n  const currentUserId = localStorage.getItem(\"currentUserInfo\") || 0;\n\n  useEffect(() => {\n    setisLoading(true);\n    let URL = \"\";\n    URL = \"https://api.esculae.com/api/v1/course/transactions\";\n    axiosInstance\n      .get(URL, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      })\n      .then((resp) => {\n        let currentTutorTrans = [];\n        resp.data.data.map((tran) => {\n          if (tran.faculty_id == currentUserId) {\n            currentTutorTrans.push(tran);\n          }\n        });\n        settransactions(currentTutorTrans);\n        setisLoading(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n  const columns = [\n    {\n      title: \"Transaction Date\",\n      dataIndex: \"tdate\",\n      key: \"tdate\",\n      sortDirections: [\"descend\", \"ascend\"],\n      defaultSortOrder: \"descend\",\n      // sorter: (a, b) => moment(a.tdate) - moment(b.tdate),\n      // sorter: (a, b) => new Date(a.tdate) - new Date(b.tdate),\n      sorter: (a, b) => moment(a.tdate).unix() - moment(b.tdate).unix()\n    },\n    {\n      title: \"Due Date\",\n      dataIndex: \"ddate\",\n      key: \"ddate\",\n      // sortDirections: [\"descend\", \"ascend\"],\n      // defaultSortOrder: \"descend\",\n      // sorter: (a, b) => moment(a.ddate) - moment(b.ddate),\n      sorter: (a, b) => moment(a.ddate).unix() - moment(b.ddate).unix()\n    },\n\n    {\n      title: \"CourseName\",\n      dataIndex: \"cname\",\n      key: \"cname\",\n      sorter: (a, b) => a.cname.localeCompare(b.cname)\n    },\n    {\n      title: \"Batch Name\",\n      dataIndex: \"bname\",\n      key: \"bname\",\n    },\n    {\n      title: \"StudentName\",\n      dataIndex: \"sname\",\n      key: \"sname\",\n    },\n    {\n      title: \"Amount\",\n      dataIndex: \"amount\",\n      key: \"amount\",\n    },\n    {\n      title: \"Transaction Id\",\n      dataIndex: \"tid\",\n      key: \"tid\",\n    },\n  ];\n  useEffect(() => {\n    if (transactions.length > 0) {\n      let tmptbl = [];\n      transactions.map((item) => {\n        if (\n          item.transaction_number !== \"\" &&\n          item.transaction_number !== null\n        ) {\n          tmptbl.push({\n            key: item.id,\n            tdate: moment(item.transaction_date).format(\"DD-MM-YYYY HH:MM:SS\"),\n            ddate: item.transaction_due_date\n              ? moment(item.transaction_due_date).format(\"DD-MM-YYYY HH:MM:SS\")\n              : \"-\",\n            cname: item.course_name,\n            bname: item.name,\n            sname: item.student_name,\n\n            tname: item.faculty_name,\n            // cname: \"Python for data science\",\n            amount: item.amount,\n            tid: item.transaction_number,\n          });\n        }\n      });\n      settbldata(tmptbl);\n    }\n  }, [transactions]);\n  const data = [\n    {\n      key: \"1\",\n      tdate: \"25 March 2021\",\n      cname: \"Python for data science\",\n      sname: \"Lokesh\",\n      amount: \" $4536\",\n      tid: \"sdasjd34aAFa\",\n    },\n    {\n      key: \"2\",\n      tdate: \"25 March 2021\",\n      cname: \"data science\",\n      amount: \" $536\",\n      sname: \"Lokesh\",\n\n      tid: \"sjde434aAFa\",\n    },\n    {\n      key: \"3\",\n      tdate: \"25 March 2021\",\n      cname: \"Python\",\n      amount: \" $45336\",\n      sname: \"Lokesh\",\n\n      tid: \"sdasjd34aAFa\",\n    },\n    {\n      key: \"4\",\n      tdate: \"25 March 2021\",\n      cname: \"Python for data science\",\n      amount: \" $4536\",\n      tid: \"sdasjd34aAFa\",\n      sname: \"Lokesh\",\n    },\n  ];\n  return (\n    <Main>\n      {/* <Cards headless></Cards> */}\n      <Row>\n        <Col xs={24}>\n          <Cards title=\"Transaction History\">\n            <CustomTable\n              columns={columns}\n              data={tbldata}\n              loading={isLoading}\n            ></CustomTable>\n          </Cards>\n        </Col>\n      </Row>\n    </Main>\n  );\n}\n\nexport default TransactionTables;\n"]},"metadata":{},"sourceType":"module"}